# static 제대로 한번 써 보자
자바 프로그래밍에서 성능을 향상시키는 방법은 여러 가지가 있다. 그중에서 한가지는 static을 사용하는 것이다. 하지만 잘 모르고 static을 사용하다가는 시스템이
 더 느려지거나, 오류를 내뿜는 시스템이 될 수도 있다(오류만 발생시키면 다행이고, 잘못 사용하다가는 JVM이 죽어버리는 상황도 발생할 수 있다.).
 static은 간단한 이치만 알면 쉽게 사용할 수 있다.
 <hr/>
 
###  static의 특징
static이라는 단어는 '정적인.움직이지않는'이라는 의미이다. 자바에서 static으로 지정했다면, 해당 메서드나 변수는 정적이다.<br/>
static으로 선언한 변수는 클래스 변수라고 한다. 왜냐하면, 그 변수는 '객체의 변수'가 되는 것이 아니라 '클래스의 변수'가 되기 때문이다.<br/>
100개의 클래스의 인스턴스를 생성하더라도, 모든 객체가 static변수에 대해서는 동일한 주소의 값을 참조한다.
###### static 초기화 블록
* static 초기화 블록은 클래스 어느 곳에나 지정할 수 있다. 
* static 블록은 클래스가 최초 로딩될 때 수행되므로 생성자 실행과 상관없이 수행한다.
* 여러개의 static블록을 사용할 수 있다.(순차적으로 읽혀진다.)
* 하나의 JVM이나 WAS 인스턴스에서는 같은 주소에 존재하는 값을 참조한다.
* GC의 대상이 되지 않는다.
> 그러므로 static을 잘 사용하면 성능을 뛰어나게 향상시킬 수 있다.<br/>
> 하지만, 잘못 하용하면 예기치 못한 결과를 초래하게 된다.<br/>
>  * 웹 환경에서 static을 잘못 사용하다가는 여러 쓰레드에서 하나의 변수에 접근할 수도 있기 때문에 데이터가 꼬이는 큰 일이 발생할 수도 있다.
<hr/>

### static 잘 활용하기
1. 자주 사용하고 절대 변하지 않는 변수는 final static으로 선언하자
2. 설정 파일 정보도 static으로 관리하자
  * 클래스의 객체를 생성할 때마다 설정 파일을 로딩하면 엄청난 성능 저하가 발생하게 된다.
3. 코드성 데이터는 DB에서 한 번만 읽자
<hr/>

### static과 메모리 릭
static으로 선언한 부분은 GC가 되지 않는다. 만약 Vector나 ArrayList에 담을 때 해당 Collection 객체를 static으로 선언하면 해당 객체에 데이터가 쌓이면, 
 더 이상 GC가 되지 않으면서 시스템은 OutOfMemoryError를 발생시킨다.
 
 > 더 이상 사용 가능한 메모리가 없어지는 현상을 메모리 릭(Memory Leak)이라고 한다. static과 Collection객체를 잘못 사용하면 메모리 릭이 발생한다.
