# synchronized는 제대로 알고 써야 한다
우리가 개발하는 WAS는 여러 개의 스레드가 동작하도록 되어 있다. 그래서 synchronized를 자주 사용한다. 하지만 synchronized를 쓴다고 무조건 안정적인 것은
 아니며, 성능에 영향을 미치는 부분도 있다.
 <hr/>
 
 ### 프로세스와 스레드
 클래스를 하나 수행시키거나 WAS를 가동하면, 서버에 자바 프로세스가 하나 생성된다. 하나가 생성되는지 여러 개가 생성되는지는 윈도의 자원관리자나 
 리눅스, 유닉스의 프로세스를 조회해 보면 된다.
 
 하나의 프로세스에는 여러 개의 스레드가 생성된다. 단일 스레드가 생성되어 종료될 수도 있고, 여러 개의 스레드가 생성되어 수행될 수도 있다.
 그러므로 프로세스와 스레드의 관계는 1:多 관계라고 보면 된다. 스레드는 다른 말로 Lightweight Process(LWP)라고도 한다. 즉 가벼운 프로세스이고, 
 프로세스에서 만들어 사용하고 있는 메모리를 공유한다. 그래서 별개의 프로세스가 하나씩 뜨는 것보다는 성능이나 자원 사용에 있어서 많은 도움이 된다. 
 
 ##### Thread 클래스 상속과 Runnable 인터페이스 구현
 스레드의 구현은 Thread 클래스를 상속받는 방법과 Runnable 인터페이스를 구현하는 방법 두 가지가 있다. 어느 것을 사용해도 거의 차이가 없지만, 
 Runnable 인터페이스를 구현하면 원하는 기능을 추가할 수 있다. 또한 자바는 다중 상속을 인정하지 않아 스레드를 사용해야 할 때 이미 상속받은 클래스가
  존재한다면 Runnable 인터페이스를 구현해야 한다.
  
실행 소스
```
public class RunThreads {
  public static void main(String[] args) {
    RunnableImpl ri = new RunnableImpl();
    ThreadExtends te = new ThreadExtends();
    new Thread(ri).start();
    te.start();
  }
}
```
##### sleep(), wait(), join() 메서드
현재 진행 중인 스레드를 대기하도록 하기 위해서 쓰는 세 가지 메서드다.<br/>
* wait() 메서드는 모든 클래스의 부모 클래스인 Object 클래스에 선언되어 있으므로 어떤 클래스에서도 사용할 수 있다.
* 이 세 가지 메서드는 모두 예외를 던지도록 되어 있어 사용할 때는 반드시 예외 처리를 해주어야 한다.
* sleep() 메서드는 명시된 시간만큼 해당 스레드를 대기시킨다. 
    * sleep(long millis): 명시된 ms만큼 해당 스레드가 대기한다. static 메서드이기 때문에 반드시 스레드 객체를 통하지 않아도 사용할 수 있다.
    * sleep(long millis, int nanos): 명시된 ms + 명시된 나노 시간만큼 해당 스레드가 대기한다. 여기서 나노 시간은 0~999999까지 사용할 수 있다.
    이 메서드도 위와 마찬가지로 static 메서드다.
* wait() 메서드도 명시된 시간만큼 해당 스레드를 대기시킨다. sleep() 메서드와 다른 점은 매개변수인데, 만약 아무런 매개변수를 지정하지 않으면 
notify() 메서드 혹은 notifyAll() 메서드가 호출될 때까지 대기한다. 
* join() 메서드는 명시된 시간만큼 해당 스레드가 죽기를 기다린다. 만약 아무런 매개변수를 지정하지 않으면 죽을 때까지 계속 대기한다.
